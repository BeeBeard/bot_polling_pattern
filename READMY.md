# ๐ Bot-Pattern

ะญัะพั ะฟัะพะตะบั โ ะฑะพั ัะฐะฑะปะพะฝ ะฝะฐ python, ั ะฟะพะดะดะตัะถะบะพะน miniapp

## ๐ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
๐ฆ bot-pattern
 โฃ ๐ app/              # ะัะฝะพะฒะฝะพะน ะบะพะด ะฑะพัะฐ
 โ โฃ ๐ api/            # API ัะฝะดะฟะพะธะฝัั
 โ โฃ ๐ bot/            # ะะพะณะธะบะฐ ะฑะพัะฐ
 โ โ โฃ ๐ middleware/   # Middleware ะดะปั ะพะฑัะฐะฑะพัะบะธ ะดะฐะฝะฝัั ะฑะพัะฐ
 โ โ โ ๐ routers/      # ะะพััะตัั ะบะพะผะฐะฝะด ะฑะพัะฐ
 โ โฃ ๐ assistant/      # ะัะฟะพะผะพะณะฐัะตะปัะฝัะต ะบะปะฐััั ะธ ััะธะปะธัั
 โ โฃ ๐ conn/           # ะะพะดะบะปััะตะฝะธะต ะบ ะะ
 โ โ โฃ ๐ engines.py    # ะะฒะธะถะบะธ ะฑะฐะท ะดะฐะฝะฝัั
 โ โ โฃ ๐ sql.py        # SQL-ะทะฐะฟัะพัั
 โ โ โ ๐ tables.py     # ะะฟัะตะดะตะปะตะฝะธะต ัะฐะฑะปะธั
 โ โฃ ๐ models/         # ะะพะดะตะปะธ ะดะฐะฝะฝัั
 โ โฃ ๐ static/         # ะกัะฐัะธัะตัะบะธะต ัะฐะนะปั
 โ โฃ ๐ templates/      # HTML-ัะฐะฑะปะพะฝั
 โ โ ๐ config.py       # ะะพะฝัะธะณััะฐัะธะพะฝะฝัะต ะฟะฐัะฐะผะตััั
 โฃ ๐ Dockerfile        # ะคะฐะนะป ัะฑะพัะบะธ Docker
 โฃ ๐ docker-compose.yml # ะะพะฝัะธะณััะฐัะธั ัะตัะฒะธัะพะฒ Docker
 โฃ ๐ .env              # ะคะฐะนะป ั ะฟะตัะตะผะตะฝะฝัะผะธ ะพะบััะถะตะฝะธั
 โฃ ๐ main.py           # ะขะพัะบะฐ ะฒัะพะดะฐ ะฒ ะฟัะธะปะพะถะตะฝะธะต
 โฃ ๐ requirements.txt  # ะะฐะฒะธัะธะผะพััะธ ะฟัะพะตะบัะฐ
 โ ๐ README.md         # ะญัะพั ัะฐะนะป
```

## ๐ ะะฐะฟััะบ ะฟัะพะตะบัะฐ

### 1๏ธโฃ ะฃััะฐะฝะพะฒะธัะต ะทะฐะฒะธัะธะผะพััะธ (ะปะพะบะฐะปัะฝะพ)

```sh
pip install -r  requirements.txt
```

### 2๏ธโฃ ะกะพะทะดะฐะนัะต `.env` ัะฐะนะป

ะกะพะทะดะฐะนัะต `.env` ะฒ ะบะพัะฝะตะฒะพะน ะฟะฐะฟะบะต ะธ ัะบะฐะถะธัะต:

```
HOST_IP=0.0.0.0
HOST_PORT=8000

DB_HOST=db
DB_PORT=3306
DB_NAME=bot_db
DB_USER=bot_user
DB_PASSWORD=bot_password
```

### 3๏ธโฃ ะะฐะฟััะบ ะฒ Docker

```sh
docker-compose up -d --build
```

โณ ะะพะดะพะถะดะธัะต, ะฟะพะบะฐ ัะพะฑะตัะตััั ะพะฑัะฐะท.

ะะพัะปะต ััะฟะตัะฝะพะณะพ ะทะฐะฟััะบะฐ ะฑะพั ะฑัะดะตั ะดะพัััะฟะตะฝ ะฝะฐ `http://localhost:8009` .

## ๐ ะัะฟะพะปัะทะพะฒะฐะฝะธะต ะบะพะผะฐะฝะด Docker

๐ **ะััะฐะฝะพะฒะธัั ะบะพะฝัะตะนะฝะตัั:**

```sh
docker-compose down
```

๐ **ะะตัะตัะพะฑัะฐัั ะพะฑัะฐะทั ะธ ะทะฐะฟัััะธัั:**

```sh
docker-compose up -d --build
```

๐ **ะะพะณะธ ัะตัะฒะธัะฐ ะฑะพัะฐ:**

```sh
docker logs -f bot-server
```

๐ **ะะฐะนัะธ ะฒ ะบะพะฝัะตะนะฝะตั MySQL:**

```sh
docker exec -it mysql-db mysql -u bot_user -p
```

## ๐ ะะพะดะบะปััะตะฝะธะต ะบ MySQL

ะัะปะธ ัะพัะธัะต ะฟะพะดะบะปััะธัััั ะบ ะฑะฐะทะต ะดะฐะฝะฝัั ะธะทะฒะฝะต, ะธัะฟะพะปัะทัะนัะต:

```
HOST: 127.0.0.1
PORT: 3306
USER: bot_user
PASSWORD: bot_password
DATABASE: bot_db
```

## ๐ TODO

- [ ] ะะพะฑะฐะฒะธัั ัะตััั
- [ ] ะะฐัััะพะธัั CI/CD
- [ ] ะฃะปัััะธัั ะปะพะณะธัะพะฒะฐะฝะธะต
